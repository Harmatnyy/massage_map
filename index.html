<!DOCTYPE html>
<html lang="uk">
<head>
  <meta charset="UTF-8" />
  <title>Massage Map Kyiv</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- Bootstrap 5 CSS -->
  <link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
  />

  <!-- Font Awesome (–¥–ª—è —ñ–∫–æ–Ω–æ–∫) -->
  <link
    rel="stylesheet"
    href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"
  />

  <!-- Leaflet CSS -->
  <link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.css"
  />

  <!-- MarkerCluster CSS -->
  <link
    rel="stylesheet"
    href="https://unpkg.com/leaflet.markercluster@1.5.3/dist/MarkerCluster.css"
  />
  <link
    rel="stylesheet"
    href="https://unpkg.com/leaflet.markercluster@1.5.3/dist/MarkerCluster.Default.css"
  />

  <!-- AwesomeMarkers CSS -->
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css"
  />

  <!-- Masonry (–Ω–µ–º–∞—î –æ–∫—Ä–µ–º–æ–≥–æ CSS, –ª–∏—à–µ —Å–∫—Ä–∏–ø—Ç) -->

  <style>
    /* –°–∫–∏–¥–∞—î–º–æ –≤—ñ–¥—Å—Ç—É–ø–∏ */
    html, body {
      margin: 0;
      padding: 0;
      width: 100%;
      height: 100%;
    }

    /* –ö–∞—Ä—Ç–∞ (60% –≤–∏—Å–æ—Ç–∏ –≤—ñ–∫–Ω–∞) */
    #map {
      width: 100%;
      height: 60vh;
      position: relative;
    }
    .leaflet-popup-content a.btn {
  color: #fff !important; /* —Ä–æ–±–∏—Ç—å —Å–∞–º —Ç–µ–∫—Å—Ç –∫–Ω–æ–ø–∫–∏ –±—ñ–ª–∏–º */
}

/* –Ø–∫—â–æ —É –≤–∞—Å —î —ñ–∫–æ–Ω–∫–∞ –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ –∫–Ω–æ–ø–∫–∏ (–Ω–∞–ø—Ä. <i class="fa ..."></i>), –¥–æ–¥–∞–π—Ç–µ: */
.leaflet-popup-content a.btn i {
  color: #fff !important; /* —â–æ–± —ñ —ñ–∫–æ–Ω–∫–∞ —Ç–∞–∫–æ–∂ –±—É–ª–∞ –±—ñ–ª–æ—é */
}
    /* –ö–Ω–æ–ø–∫–∞ –ø–µ—Ä–µ–º–∏–∫–∞–Ω–Ω—è —Ç–µ–º–∏ */
    .theme-toggle-btn {
      position: absolute;
      top: 10px;
      right: 10px;
      z-index: 9999;
    }

    /* –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä Masonry */
    .container {
      margin-top: 20px;
    }
    .grid {
      margin: 0 auto;
      max-width: 1920px;
    }
    .grid-item {
      width: 360px;
      margin-bottom: 20px;
      display: inline-block;
      vertical-align: top;
    }

    /* Bootstrap 5 Cards –∑–∞–º—ñ—Å—Ç—å –ø–∞–Ω–µ–ª–µ–π */
    .card {
      border: 1px solid #ddd;
      border-radius: 4px;
      transition: all 0.2s ease;
    }
    .card-body {
      padding: 1rem;
    }
    /* Hover-–µ—Ñ–µ–∫—Ç –¥–ª—è —Å–∞–º–∏—Ö –∫–∞—Ä—Ç–æ–∫ (—Ç—ñ–Ω—å/–∑—Å—É–≤) */
    .grid-item:hover {
      box-shadow: 0 4px 12px rgba(0,0,0,0.15);
      transform: translateY(-2px);
      cursor: pointer;
    }

    /* ------------------ –¢–µ–º–∏ ------------------ */
    /* –¢–µ–º–∞ —Å–≤—ñ—Ç–ª–∞ */
    body.light-theme {
      background-color: #ffffff;
      color: #333;
    }
    body.light-theme .card {
      background-color: #fff;
      color: #333;
      border-color: #ddd;
    }

    /* –¢–µ–º–∞ —Ç–µ–º–Ω–∞ */
    body.dark-theme {
      background-color: #1c1c1c;
      color: #ccc;
    }
    body.dark-theme .card {
      background-color: #2a2a2a;
      color: #ccc;
      border-color: #555;
    }

    /* –ü–æ–ø–∞–ø–∏ –¥–ª—è —Å–≤—ñ—Ç–ª–æ—ó —Ç–µ–º–∏ */
    body.light-theme .leaflet-popup-content-wrapper {
      background: #fff;
      color: #333;
      border: 2px solid #eee;
    }
    body.light-theme .leaflet-popup-tip {
      background: #eee;
      border: 2px solid #eee;
    }

    /* –ü–æ–ø–∞–ø–∏ –¥–ª—è —Ç–µ–º–Ω–æ—ó —Ç–µ–º–∏ */
    body.dark-theme .leaflet-popup-content-wrapper {
      background: #2a2a2a;
      color: #ccc;
      border: 2px solid #555;
    }
    body.dark-theme .leaflet-popup-tip {
      background: #555;
      border: 2px solid #555;
    }
    
.toggle-list-btn {
  position: absolute;
  bottom: 10px; /* –≤—ñ–¥—Å—Ç—É–ø –∑–Ω–∏–∑—É */
  left: 10px;   /* –≤—ñ–¥—Å—Ç—É–ø –∑–ª—ñ–≤–∞ */
  z-index: 9999; /* —â–æ–± –Ω–µ –ø–µ—Ä–µ–∫—Ä–∏–≤–∞–ª–∞—Å—è –µ–ª–µ–º–µ–Ω—Ç–∞–º–∏ –∫–∞—Ä—Ç–∏ */
}
    /* –°—Ç–∏–ª—ñ –ø–æ–ø–∞–ø-–∫–æ–Ω—Ç–µ–Ω—Ç—É */
    .leaflet-popup-content h4 {
      margin-top: 0;
      margin-bottom: 10px;
      font-size: 16px;
    }
    .leaflet-popup-content p {
      margin: 5px 0;
      font-size: 14px;
    }
    .leaflet-popup-content strong {
      font-weight: 600;
    }

    /* –ü—ñ–¥—Å–≤—ñ—á—É–≤–∞–Ω–Ω—è –∫–∞—Ä—Ç–∫–∏ –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–Ω—ñ –Ω–∞ –º–∞—Ä–∫–µ—Ä */
    .highlight-card {
      outline: 2px solid #00f; /* —Å–∏–Ω—è —Ä–∞–º–∫–∞ –Ω–∞–≤–∫–æ–ª–æ –∫–∞—Ä—Ç–∫–∏ */
    }
  </style>
</head>
<body>

  <!-- –ö–Ω–æ–ø–∫–∞ –ø–µ—Ä–µ–º–∏–∫–∞–Ω–Ω—è —Ç–µ–º–∏ -->
  <div class="theme-toggle-btn">
    <button class="btn btn-secondary" id="toggleThemeBtn">
      <i class="fa fa-adjust"></i> –¢–µ–º–∞
    </button>
  </div>

  <!-- –ú–∞–ø–∞ -->
  <div id="map">
     <!-- ... –∫–æ–¥ –¥–ª—è –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –º–∞–ø–∏ ... -->

  <!-- –ö–Ω–æ–ø–∫–∞ –≤ –ª—ñ–≤–æ–º—É –Ω–∏–∂–Ω—å–æ–º—É –∫—É—Ç—ñ –º–∞–ø–∏ -->
  <button class="btn btn-dark" id="toggleListBtn" style="
    position: absolute;
    bottom: 10px;
    left: 10px;
    z-index: 9999;
  ">
    <i class="fa fa-expand" id="toggleListBtnIcon"></i>
  </button>
  </div>


  
  <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä Masonry -->
  <div class="container">
    <div class="grid" id="cards-container">
      <!-- –∫–∞—Ä—Ç–∫–∏ –≥–µ–Ω–µ—Ä—É—é—Ç—å—Å—è JS -->
    </div>
  </div>

  <!-- JS –±—ñ–±–ª—ñ–æ—Ç–µ–∫–∏ -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.js"></script>
  <script src="https://unpkg.com/leaflet.markercluster@1.5.3/dist/leaflet.markercluster.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js"></script>

  <!-- Masonry -->
  <script src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js"></script>

  <script>
      // –û—Ç—Ä–∏–º—É—î–º–æ –ø–æ—Ç–æ—á–Ω—É –≥–æ–¥–∏–Ω—É (0-23)
  var hour = new Date().getHours();

  // –Ø–∫—â–æ –º—ñ–∂ 7 —ñ 19 –≥–æ–¥–∏–Ω–∞–º–∏ ‚Äî —Å–≤—ñ—Ç–ª–∞ —Ç–µ–º–∞, —ñ–Ω–∞–∫—à–µ ‚Äî —Ç–µ–º–Ω–∞
  if (hour >= 7 && hour < 19) {
    document.body.classList.add("light-theme");
  } else {
    document.body.classList.add("dark-theme");
  }
    // ---------- –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è —Ç–µ–º–∏ (LocalStorage) ----------
    var savedTheme = localStorage.getItem("selectedTheme");
    if (savedTheme) {
      document.body.classList.add(savedTheme);
    } else {
      document.body.classList.add("light-theme");
    }

    function toggleTheme() {
      var body = document.body;
      if (body.classList.contains("light-theme")) {
        body.classList.remove("light-theme");
        body.classList.add("dark-theme");
        localStorage.setItem("selectedTheme", "dark-theme");

        // –ó–º—ñ–Ω—é—î–º–æ —à–∞—Ä
        if (map.hasLayer(dayLayer)) map.removeLayer(dayLayer);
        if (!map.hasLayer(nightLayer)) map.addLayer(nightLayer);
      } else {
        body.classList.remove("dark-theme");
        body.classList.add("light-theme");
        localStorage.setItem("selectedTheme", "light-theme");

        // –ó–º—ñ–Ω—é—î–º–æ —à–∞—Ä
        if (map.hasLayer(nightLayer)) map.removeLayer(nightLayer);
        if (!map.hasLayer(dayLayer)) map.addLayer(dayLayer);
      }
    }

    document.getElementById("toggleThemeBtn")
      .addEventListener("click", toggleTheme);


    var isListHidden = false; // –ø–æ—á–∞—Ç–∫–æ–≤–æ —Å–ø–∏—Å–æ–∫ –ø–æ–∫–∞–∑–∞–Ω–æ

document.getElementById('toggleListBtn').addEventListener('click', function() {
  var listContainer = document.querySelector('.container'); // –±–ª–æ–∫ –∑ –∫–∞—Ä—Ç–∫–∞–º–∏
  var mapElement = document.getElementById('map');
  var iconEl = document.getElementById('toggleListBtnIcon');

  if (!isListHidden) {
    // –ü—Ä–∏—Ö–æ–≤—É—î–º–æ —Å–ø–∏—Å–æ–∫
    listContainer.style.display = 'none';

    // –†–æ–∑–≥–æ—Ä—Ç–∞—î–º–æ –∫–∞—Ä—Ç—É –Ω–∞ –≤—Å—é –≤–∏—Å–æ—Ç—É
    mapElement.style.height = '100vh';
    map.invalidateSize(); // –ø–µ—Ä–µ—Ä–∞—Ö—É–≤–∞—Ç–∏ —Ä–æ–∑–º—ñ—Ä Leaflet

    // –ú—ñ–Ω—è—î–º–æ —ñ–∫–æ–Ω–∫—É "expand" ‚Üí "compress"
    iconEl.classList.remove('fa-expand');
    iconEl.classList.add('fa-compress');

    isListHidden = true;
  } else {
    // –ü–æ–∫–∞–∑—É—î–º–æ —Å–ø–∏—Å–æ–∫
    listContainer.style.display = 'block';

    // –ü–æ–≤–µ—Ä—Ç–∞—î–º–æ –º–∞–ø—É –¥–æ 60vh (—è–∫ –±—É–ª–æ)
    mapElement.style.height = '60vh';
    map.invalidateSize();

    // –ú—ñ–Ω—è—î–º–æ —ñ–∫–æ–Ω–∫—É "compress" ‚Üí "expand"
    iconEl.classList.remove('fa-compress');
    iconEl.classList.add('fa-expand');

    isListHidden = false;
  }
});
    
    // ---------- –î–∞–Ω—ñ -----------
    var places = [
      {
        name: "–ñ–µ–Ω—è –º–∞—Å—Å–∞–∂–∏—Å—Ç",
        lat: 50.425,
        lon: 30.520,
        address: "–ü–∞–ª–∞—Ü –£–∫—Ä–∞—ó–Ω–∞",
        price: "800-1000 –≥—Ä–Ω –∑–∞ 2-3 –≥–æ–¥–∏–Ω–∏",
        desc: "–ë–∞–Ω–∫–∏, —Å—Ç–∏–º—É–ª—è—Ü—ñ—ó, —Ä–æ–∑—Å–ª–∞–±–ª—è—é—á–∏–π, —Å–ø–æ—Ä—Ç–∏–≤–Ω–∏–π, –ª—ñ–∫—É—é—á–∏–π.",
        contact_type: "phone",
        contact_value: "+380504400094"
      },
      {
        name: "–ú–∞—Å–∞–∂ –º. –ê—Ä—Å–µ–Ω–∞–ª—å–Ω–∞",
        lat: 50.4406,
        lon: 30.5472,
        address: "–ê—Ä—Å–µ–Ω–∞–ª—å–Ω–∞ –∞–±–æ –°–º–∞—Ä—Ç–ú–µ–¥—ñ–∫–∞–ª –Ω–∞ –ú–∞–∫–∫–µ–π–Ω–∞",
        price: "",
        desc: "–û—Å—Ç–µ–æ–ø–∞—Ç–∏—á–Ω–∏–π –º–∞—Å–∞–∂ (–í—ñ—Ç—Ä—É–∫)",
        contact_type: "phone",
        contact_value: "+380936226390"
      },
      {
        name: "ELITE MASSAGE",
        lat: 50.5123,
        lon: 30.4989,
        address: "–¢–†–¶ DREAM 1 yellow, –û–±–æ–ª–æ–Ω—Å—å–∫–∏–π –ø—Ä–æ—Å–ø–µ–∫—Ç, 1–ë, 3 –ø–æ–≤–µ—Ä—Ö",
        desc: "",
        contact_type: "link",
        contact_value: "https://www.instagram.com/alexandr__morgun"
      },
      {
        name: "–Æ—Ä—ñ–π",
        lat: 50.4144,
        lon: 30.5360,
        address: "Profesora Pidvysots'koho St, 6–í",
        desc: "",
        contact_type: "phone",
        contact_value: "+380931349757"
      },
      {
        name: "–í–ª–∞–¥–∏—Å–ª–∞–≤ –†–µ–∞–±—ñ–ª—ñ—Ç–æ–ª–æ–≥",
        lat: 50.4506,
        lon: 30.4640,
        address: "–ö–ü–Ü",
        desc: "",
        contact_type: "phone",
        contact_value: "+380997584948"
      },
      {
        name: "Iryna Lysenko",
        lat: 50.4448,
        lon: 30.5106,
        address: "–±—É–ª. –¢–∞—Ä–∞—Å–∞ –®–µ–≤—á–µ–Ω–∫–∞ 46–∞",
        desc: "",
        contact_type: "link",
        contact_value: "https://www.instagram.com/massageirynalysenko"
      },
      {
        name: "–û—Å—Ç–µ–æ–ø–∞—Ç—ñ—è —Ç–∞ –ü—ñ–ª–∞—Ç–µ—Å",
        lat: 50.4505,
        lon: 30.5048,
        address: "–í—É–ª. –û.–ì–æ–Ω—á–∞—Ä–∞ 26, –ö–∏—ó–≤",
        price: "–ì—Ä–∞—Ñ—ñ–∫: 10:00 - 21:00",
        desc: "",
        contact_type: "link",
        contact_value: "https://w.wlaunch.net/i/tronka.gonchara/b/fd01fdf0-b209-11ee-9635-a72d342f2634/s"
      },
      {
        name: "–ú–ê–°–ê–ñ –ö–ò–á–í - –ü–∞–ª–∞—Ü —Å–ø–æ—Ä—Ç—É",
        lat: 50.4376,
        lon: 30.5204,
        address: "–≤—É–ª–∏—Ü—è –®–æ—Ç–∞ –†—É—Å—Ç–∞–≤–µ–ª—ñ, 33–ê",
        desc: "",
        contact_type: "phone",
        contact_value: "+380737857575"
      },
{
  name: "–Ü—Ä–∏–Ω–∞ –ë—É—Ä—Å–∞ | –º–∞—Å–∞–∂ | –º–∞—Å–∞–∂–∏—Å—Ç üìç–ö–∏—ó–≤",
  lat: 50.455,             // –í–∫–∞–∂—ñ—Ç—å —Ä–µ–∞–ª—å–Ω—ñ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∏, —è–∫—â–æ –∑–Ω–∞—î—Ç–µ
  lon: 30.524,
  address: "–ö–æ—Å—Ç—å–æ–ª—å–Ω–∞ 15",
  price: "",
  desc: "instagram.com/bursaira_m",
  contact_type: "link",
  contact_value: "https://n814088.alteg.io/company/764773/personal/menu?o="
},
      {
        name: "PhysioKey",
        lat: 50.4468,
        lon: 30.5070,
        address: "Bohdana Khmel'nyts'koho St, 59, Kyiv, Ukraine 02000",
        desc: "",
        contact_type: "link",
        contact_value: "https://n818324.alteg.io/company/768564/personal/menu?o="
      }
    ];

    // ---------- –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è –º–∞–ø–∏ ----------
    var map = L.map('map', {
      center: [50.4501, 30.5234],
      zoom: 12
    });

    // –î–µ–Ω–Ω–∏–π —à–∞—Ä (Google) - –Ω–µ–æ—Ñ—ñ—Ü—ñ–π–Ω–∏–π
    var dayLayer = L.tileLayer('http://{s}.google.com/vt/lyrs=m&x={x}&y={y}&z={z}', {
      maxZoom: 20,
      subdomains:['mt0','mt1','mt2','mt3']
    });
    // –ù—ñ—á–Ω–∏–π —à–∞—Ä (Carto DarkMatter)
    var nightLayer = L.tileLayer('https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png', {
      maxZoom: 19
    });

    // –í—Å—Ç–∞–Ω–æ–≤–ª—é—î–º–æ —à–∞—Ä –∑–∞–ª–µ–∂–Ω–æ –≤—ñ–¥ —Ç–µ–º–∏
    if (document.body.classList.contains("dark-theme")) {
      nightLayer.addTo(map);
    } else {
      dayLayer.addTo(map);
    }

    // –ö–ª–∞—Å—Ç–µ—Ä
    var markerCluster = L.markerClusterGroup();

    // –§—É–Ω–∫—Ü—ñ—è –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è —ñ–∫–æ–Ω–æ–∫
    function getIcon(type, highlighted) {
      var iconName, markerColor;
      if (type === 'phone') {
        iconName = 'fa-phone';
        markerColor = highlighted ? 'darkblue' : 'blue';
      } else if (type === 'link') {
        iconName = 'fa-link';
        markerColor = highlighted ? 'darkgreen' : 'green';
      } else {
        iconName = 'fa-map-marker';
        markerColor = highlighted ? 'darkred' : 'red';
      }
      return L.AwesomeMarkers.icon({
        icon: iconName,
        prefix: 'fa',
        markerColor: markerColor,
        iconColor: 'white'
      });
    }

    // –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø–æ–ø–∞–ø—É (–±–µ–∑ –∫–Ω–æ–ø–∫–∏ "–ú–∞—Ä—à—Ä—É—Ç")
    function buildPopup(place) {
      var content = "<h4>" + place.name + "</h4>";
      if (place.address) {
        content += "<p><strong>–ê–¥—Ä–µ—Å–∞:</strong> " + place.address + "</p>";
      }
      if (place.price) {
        content += "<p><strong>–¶—ñ–Ω–∞/–≥—Ä–∞—Ñ—ñ–∫:</strong> " + place.price + "</p>";
      }
      if (place.desc) {
        content += "<p><strong>–û–ø–∏—Å:</strong> " + place.desc + "</p>";
      }
      // –ö–Ω–æ–ø–∫–∞ "–î–∑–≤—ñ–Ω–æ–∫" / "–ó–∞–ø–∏—Å–∞—Ç–∏—Å—è"
      if (place.contact_type === "phone") {
        content += "<p><a href='tel:" + place.contact_value
                 + "' class='btn btn-primary'><i class='fa fa-phone'></i> –î–∑–≤—ñ–Ω–æ–∫</a></p>";
      } else if (place.contact_type === "link") {
        content += "<p><a href='" + place.contact_value
                 + "' class='btn btn-success' target='_blank'><i class='fa fa-link'></i> –ó–∞–ø–∏—Å–∞—Ç–∏—Å—è</a></p>";
      }
      return content;
    }

    var placeMarkers = [];

    places.forEach(function(place, idx) {
      var marker = L.marker([place.lat, place.lon], {
        icon: getIcon(place.contact_type, false)
      }).bindPopup(buildPopup(place), { maxWidth: 300 });

      markerCluster.addLayer(marker);

      // –ó–±–µ—Ä–µ–∂–µ–º–æ –ø–æ—Å–∏–ª–∞–Ω–Ω—è (—â–æ–± –ø—ñ–¥—Å–≤—ñ—á—É–≤–∞—Ç–∏ –∫–∞—Ä—Ç–∫—É –ø—Ä–∏ hover –Ω–∞ –º–∞—Ä–∫–µ—Ä)
      placeMarkers.push({ place: place, marker: marker, cardDiv: null });
    });

    map.addLayer(markerCluster);

    // ---------- Masonry-–∫–∞—Ä—Ç–∫–∏ ----------
    var cardsContainer = document.getElementById("cards-container");

    places.forEach(function(place, idx) {
      // .grid-item .card
      var itemDiv = document.createElement("div");
      itemDiv.className = "grid-item";

      var card = document.createElement("div");
      card.className = "card";

      var cardBody = document.createElement("div");
      cardBody.className = "card-body";

      var html = "<h5>" + place.name + "</h5>";
      if (place.address) {
        html += "<p><strong>–ê–¥—Ä–µ—Å–∞:</strong> " + place.address + "</p>";
      }
      if (place.price) {
        html += "<p><strong>–¶—ñ–Ω–∞/–≥—Ä–∞—Ñ—ñ–∫:</strong> " + place.price + "</p>";
      }
      if (place.desc) {
        html += "<p><strong>–û–ø–∏—Å:</strong> " + place.desc + "</p>";
      }
      // –ö–Ω–æ–ø–∫–∏
      if (place.contact_type === "phone") {
        html += "<p><strong>–¢–µ–ª–µ—Ñ–æ–Ω:</strong> " + place.contact_value + "</p>";
        html += "<a href='tel:" + place.contact_value
               + "' class='btn btn-primary'><i class='fa fa-phone'></i> –î–∑–≤—ñ–Ω–æ–∫</a> ";
      } else if (place.contact_type === "link") {
        html += "<a href='" + place.contact_value
               + "' class='btn btn-success' target='_blank'><i class='fa fa-link'></i> –ó–∞–ø–∏—Å–∞—Ç–∏—Å—è</a> ";
      }

      cardBody.innerHTML = html;
      card.appendChild(cardBody);
      itemDiv.appendChild(card);
      cardsContainer.appendChild(itemDiv);

      // –ó–±–µ—Ä—ñ–≥–∞—î–º–æ cardDiv (–¥–ª—è highlight, —è–∫—â–æ –Ω–∞–≤–µ–¥–µ–º–æ –Ω–∞ –º–∞—Ä–∫–µ—Ä)
      placeMarkers[idx].cardDiv = card;

      // –ö–ª—ñ–∫ –Ω–∞ –∫–∞—Ä—Ç–∫—É -> —Å–∫—Ä–æ–ª –¥–æ –≤–µ—Ä—Ö—É (–ø–ª–∞–≤–Ω–æ), —Ñ–æ–∫—É—Å –Ω–∞ –º–∞—Ä–∫–µ—Ä—ñ
      itemDiv.addEventListener("click", function() {
        window.scrollTo({ top: 0, behavior: 'smooth' });
        var mk = placeMarkers[idx].marker;
        map.flyTo(mk.getLatLng(), 15);
        mk.openPopup();
      });

      // ------ –í–ò–õ–£–ß–ï–ù–û hover "–∫–∞—Ä—Ç–∫–∞ ‚Üí –º–∞—Ä–∫–µ—Ä" ------
      // itemDiv.addEventListener("mouseover", ...)  // –í–∏–¥–∞–ª–µ–Ω–æ
      // itemDiv.addEventListener("mouseout", ...)   // –í–∏–¥–∞–ª–µ–Ω–æ
    });

    // –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è Masonry
    var grid = document.querySelector('.grid');
    var msnry = new Masonry(grid, {
      itemSelector: '.grid-item',
      columnWidth: '.grid-item',
      percentPosition: true,
      gutter: 15
    });

   
  </script>
</body>
</html>
